<%- include('../components/template') %>

<div class="min-h-screen px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8">
	<div class="max-w-max mx-auto">
		<main class="sm:flex">
			<p class="text-4xl font-bold text-neutral-900 dark:text-white sm:text-5xl">500</p>
			<div class="sm:ml-6">
				<div class="sm:border-l sm:border-neutral-200 sm:pl-6">
					<h1 class="text-4xl font-bold text-neutral-900 dark:text-white tracking-tight sm:text-5xl">Server error</h1>
					<p class="mt-1 text-base text-neutral-500 dark:text-neutral-400">Sorry, something went wrong on our end. We're working on fixing it.</p>
				</div>
				<div class="mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6">
					<a href="/" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-xl shadow-sm text-white bg-neutral-900 hover:bg-neutral-800 dark:bg-neutral-800 dark:hover:bg-neutral-700">
						Go back home
					</a>
					<a href="/support" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-xl text-neutral-700 bg-neutral-100 hover:bg-neutral-200 dark:text-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700">
						Contact support
					</a>
				</div>
			</div>
		</main>
	</div>
</div>

<script>
// Automatically report the error to our error tracking system
window.addEventListener('load', function() {
	const errorDetails = {
		url: window.location.href,
		timestamp: new Date().toISOString(),
		userAgent: navigator.userAgent,
		errorCode: 500
	};

	fetch('/api/error-report', {
		method: 'POST',
		headers: { 'Content-Type': 'application/json' },
		body: JSON.stringify(errorDetails)
	});
});
</script>